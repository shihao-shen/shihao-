---
# 当前页面内容标题
title: PHP魔术方法
# sidebar: heading
# 当前页面图标
icon: note
# 分类
category:
    - web安全
tag: 
    - 反序列化
    - PHP魔术方法
sticky: false
# 是否收藏在博客主题的文章列表中，当填入数字时，数字越大，排名越靠前。
star: false
# 是否将该文章添加至文章列表中
article: true
# 是否将该文章添加至时间线中
timeline: true
# sidebar: heading
order: 1
date: 2023-02-20
# 浏览量
pageview: true
---

反序列化时，常用的魔术方法

| 方法名     | 调用条件                                                     |
| ---------- | ------------------------------------------------------------ |
| __call     | 调用不可访问或不存在的方法时被调用，参数`$name`, `$args`     |
| __toString | 当一个类被转换成字符串时被调用                               |
| __constuct | 构建对象时被调用；反序列化时不会被调用                       |
| __destruct | 明确销毁对象或脚本结束时被调用；反序列时也会被执行           |
| __get      | 读取不可访问或不存在的属性时被调用                           |
| __invoke   | 当以函数方式调用对象时被调用 `$t = new T(); $t()`            |
| __wakeup   | 当使用unserialize时被调用，可用于做些对象初始化操作          |
| __sleep    | 当使用serialize时被调用，当你不需要保存大对象的所有数据时有用 |

其他

| 方法         | 调用条件                                                     |
| ------------ | ------------------------------------------------------------ |
| __set        | 当给不可访问或不存在属性赋值时被调用                         |
| __callStatic | 调用不可访问或不存在的静态方法时被调用                       |
| __clone      | 进行对象clone时被调用，用来调整对象的克隆行为                |
| __debuginfo  | 当调用var_dump()打印对象时被掉用                             |
| __isset      | 对不可访问或不存在属性赋值时被调用                           |
| __set_state  | 当调用var_export()导出类时，此静态方法被调用，用__set_state的返回值值做var_export的返回值 |
| __unset      | 对不可访问或不存在的属性进行unset时被调用                    |

 